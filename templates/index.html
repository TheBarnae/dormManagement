<!DOCTYPE html>
<html lang="en">
<head>
    {% include '_head.html' %}
</head>
<body class="bg-light">
    {% include '_nav.html' %}

    <!-- Hero Section -->
    <div class="text-center py-5 bg-gradient" style="background: linear-gradient(135deg, #ffffff 0%, #764ba2 100%); color: rgb(0, 0, 0);">
        <div class="container">
            <h1 class="display-4 fw-bold mb-3">Dormitory Management System</h1>
            <p class="lead mb-4">
                {% if session.get('role') == 'admin' %}
                    Admin Dashboard - Full System Management
                {% elif session.get('role') == 'landlord' %}
                    Landlord Dashboard - Manage Your Properties
                {% elif session.get('role') == 'student' %}
                    Student Dashboard - View Your Room & Assignments
                {% else %}
                    Complete solution for managing users, buildings, rooms, assignments, and payments
                {% endif %}
            </p>
        </div>
    </div>

    <!-- Dashboard Cards -->
    <div class="container py-5">
        <!-- ADMIN DASHBOARD -->
        {% if session.get('role') == 'admin' %}
        <div class="alert alert-info mb-4">
            <strong>ğŸ‘¨â€ğŸ’¼ Admin Access:</strong> You have full access to all system features.
        </div>
        <div class="row g-4">
            <!-- 1. Users -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('users') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ‘¥</div>
                            <h5 class="card-title">Users Management</h5>
                            <p class="card-text text-muted">Add, edit, and manage all users (students, admins, landlords)</p>
                            <span class="badge bg-primary">Manage</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 2. Buildings -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('buildings') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ¢</div>
                            <h5 class="card-title">Buildings</h5>
                            <p class="card-text text-muted">Manage dormitory buildings and their details</p>
                            <span class="badge bg-success">Manage</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 3. Room Types -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('room_types') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ“‹</div>
                            <h5 class="card-title">Room Types</h5>
                            <p class="card-text text-muted">Single, Double, Suite, and other room categories</p>
                            <span class="badge bg-info">Manage</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 4. Rooms -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('rooms') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸšª</div>
                            <h5 class="card-title">Rooms</h5>
                            <p class="card-text text-muted">Manage all dormitory rooms and their availability</p>
                            <span class="badge bg-warning">Manage</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 5. Assignments -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('assignments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ“</div>
                            <h5 class="card-title">Room Assignments</h5>
                            <p class="card-text text-muted">Track tenant-to-room assignments and contracts</p>
                            <span class="badge bg-danger">Manage</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 6. Payments -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('payments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ’³</div>
                            <h5 class="card-title">Payments</h5>
                            <p class="card-text text-muted">Record and manage tenant rent payments</p>
                            <span class="badge bg-success">Manage</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 7. Reports -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('reports') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ“Š</div>
                            <h5 class="card-title">Reports</h5>
                            <p class="card-text text-muted">Generate and view occupancy, payment, and user reports</p>
                            <span class="badge bg-primary">Manage</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- LANDLORD DASHBOARD -->
        {% elif session.get('role') == 'landlord' %}
        <div class="alert alert-success mb-4">
            <strong>ğŸ  Landlord Access:</strong> Manage your properties and tenant assignments.
        </div>
        <div class="row g-4">
            <!-- 1. My Buildings -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('buildings') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ¢</div>
                            <h5 class="card-title">My Buildings</h5>
                            <p class="card-text text-muted">View and manage your owned buildings</p>
                            <span class="badge bg-success">View</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 2. My Rooms -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('rooms') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸšª</div>
                            <h5 class="card-title">My Rooms</h5>
                            <p class="card-text text-muted">Manage your rental rooms and availability</p>
                            <span class="badge bg-warning">View</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 3. Tenant Assignments -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('assignments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ“</div>
                            <h5 class="card-title">Tenant Assignments</h5>
                            <p class="card-text text-muted">View and manage tenant-to-room assignments</p>
                            <span class="badge bg-info">View</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 4. Payments -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('payments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ’³</div>
                            <h5 class="card-title">Payments Received</h5>
                            <p class="card-text text-muted">Track tenant rental payments</p>
                            <span class="badge bg-success">View</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 5. Landlord Reports -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('reports') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ“Š</div>
                            <h5 class="card-title">Reports</h5>
                            <p class="card-text text-muted">View occupancy and payment reports</p>
                            <span class="badge bg-primary">View</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- STUDENT DASHBOARD -->
        {% elif session.get('role') == 'student' %}
        <div class="alert alert-primary mb-4">
            <strong>ğŸ“ Student Access:</strong> View your room assignment and payment status.
        </div>
        <div class="row g-4">
            <!-- 1. My Assignment -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('assignments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ </div>
                            <h5 class="card-title">My Room Assignment</h5>
                            <p class="card-text text-muted">View your current room and assignment details</p>
                            <span class="badge bg-info">View</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 2. My Payments -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('payments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ’³</div>
                            <h5 class="card-title">My Payments</h5>
                            <p class="card-text text-muted">View your payment history and dues</p>
                            <span class="badge bg-success">View</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 3. Available Rooms (Browse) -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('rooms') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸšª</div>
                            <h5 class="card-title">Available Rooms</h5>
                            <p class="card-text text-muted">Browse available rooms in the dormitory</p>
                            <span class="badge bg-warning">View</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- DEFAULT DASHBOARD (NO ROLE OR UNKNOWN ROLE) -->
        {% else %}
        <div class="alert alert-warning mb-4">
            <strong>âš ï¸ Notice:</strong> Your role is not recognized. Please contact the administrator.
        </div>
        <div class="row g-4">
            <!-- Limited View -->
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('payments') }}" class="text-decoration-none">
                    <div class="card h-100 shadow-sm border-0 transition" style="cursor: pointer; transition: transform 0.3s;">
                        <div class="card-body text-center">
                            <div class="h2 mb-3">ğŸ’³</div>
                            <h5 class="card-title">Payments</h5>
                            <p class="card-text text-muted">View payment information</p>
                            <span class="badge bg-secondary">View</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        {% endif %}
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-4 mt-5">
        <div class="container">
            <p class="mb-0">Â© 2025 Dormitory Management System. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script>
        if (typeof bootstrap === 'undefined') {
            var s = document.createElement('script');
            s.src = "{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}";
            document.head.appendChild(s);
        }
        // Add hover effect to cards
        document.querySelectorAll('.card.transition').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script>
        if (typeof bootstrap === 'undefined') {
            var s = document.createElement('script');
            s.src = "{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}";
            document.head.appendChild(s);
        }
        // Add hover effect to cards
        document.querySelectorAll('.card.transition').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
    </body>
</html>
